<h1 class="show-title"><%= @restaurant.name %></h1>
<h4 class="show-subtitle"><%= @restaurant.category.name %></h4>

<div class="well">
  <div class="row">
    <div class="col-xs-5 col-md-6">
      <h3 class="show-content-title">Tel</h3>
    </div>
    <div class="show-content-detail col-xs-7  col-md-6">
      <p><%= @restaurant.tel %></p>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-5 col-md-6">
      <h3 class="show-content-title">Address</h3>
    </div>
    <div class="show-content-detail col-xs-7 col-md-6">
      <p><%= @restaurant.address %></p>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-5 col-md-6">
      <h3 class="show-content-title">Opening Hours</h3>
    </div>
    <div class="show-content-detail col-xs-7 col-md-6">
      <p><%= @restaurant.opening_hours %></p>
    </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-offset-1 col-xs-10">
      <p class="lead"><%= @restaurant.description %></p>
    </div>
  </div>
  <div>
    <div class="show-image-frame"><%= image_tag @restaurant.image,
    width: '100%' %></div>
  </div>
<br />
<div class="pull-right">
  <%= link_to admin_restaurant_path(@restaurant),
  method: :delete, data: { confirm: "Are you sure?"}, class: "show-icon btn btn-default" do %>
    <span class="glyphicon glyphicon-trash"></span>
  <% end %>
  <%= link_to edit_admin_restaurant_path(@restaurant), class: "show-icon btn btn-default" do %>
    <span class="glyphicon glyphicon-pencil"></span>
<% end %>
</div>
<hr>

<% @restaurant.comments.each do |comment| %>
  <% if comment.created_at %>  <!--make sure that it can render restaurants/show
    when the content of comment is empty-->
    <h4><%= comment.user.email.split("@")[0] %></h4>
    <%= comment.score %>
    <%= simple_format comment.content %>
    <p><%= time_ago_in_words(comment.created_at) %></p>
    <% if current_user.admin? %>
      <%= link_to "Delete", restaurant_comment_path(@restaurant, comment),
      method: :delete, data: { confirm: "Are you sure?"} %>
    <% end %>
    <hr>
  <% end %>
<% end %>

<div class="comment-form container-fluid">
  <%= form_for [@restaurant, @comment] do |f| %>
    <div class="row">
      <div class="col-xs-12 col-sm-6">
        <%= f.text_area :content, placeholder: "留個言吧" %>
      </div>
      <div class="col-xs-6 col-sm-6">
        <div class="score">
          <%= f.radio_button :score, 1, {class: "score1"} %>
          <%= f.radio_button :score, 2, {class: "score2"} %>
          <%= f.radio_button :score, 3, {class: "score3"} %>
          <%= f.radio_button :score, 4, {class: "score4"} %>
          <%= f.radio_button :score, 5, {class: "score5"} %>
          <span class="glyphicon glyphicon-heart heart1"></span>
          <span class="glyphicon glyphicon-heart heart2"></span>
          <span class="glyphicon glyphicon-heart heart3"></span>
          <span class="glyphicon glyphicon-heart heart4"></span>
          <span class="glyphicon glyphicon-heart heart5"></span>
        </div>
      </div>
      <div class="col-xs-6 col-sm-12">
        <%= f.submit class: "btn btn-default" %>
        <%= f.button "Cancel", type: :reset, class: "btn btn-default"%>
      </div>
    </div>
  <% end %>
</div>
<% if @comment.errors.any? %>
  <%= @comment.errors.full_messages.to_sentence %>
<% end %>
